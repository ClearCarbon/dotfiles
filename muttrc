set mbox_type=maildir
set mbox="~/mail/inbox/"
set spoolfile="~/mail/inbox/"
set folder="~/mail/"
set record="~/mail/sent/"
set postponed="~/mail/postponed/"

# Vim like keybinds
# bind pager j next-line
# bind pager k previous-line

set signature="~/.mutt/signature"

set sort="reverse-date-received"

# Don't wait to enter mailbox manually 
unset imap_passive        
# Automatically poll subscribed mailboxes for new mail
set imap_check_subscribed
# keep imap connection alive by polling intermittently (time in seconds)
set imap_keepalive=300
# Reduce polling frequency to a sane level
set mail_check=120
# And poll the current mailbox more often
set timeout=10
# Display download progress every 5K
set net_inc=5

# color of folders with new mail
color sidebar_new yellow default

set sort=threads

set header_cache="~/.mutt/cache/headers"
set message_cachedir="~/.mutt/cache/bodies"
set certificate_file="~/.mutt/certificates"
set ssl_ca_certificates_file="/etc/ssl/certs/ca-certificates.crt"

# ctrl-n, ctrl-p to select next, prev folder
# ctrl-o to open selected folder
bind index \Cp sidebar-prev
bind index \Cn sidebar-next
bind index \Co sidebar-open
bind pager \Cp sidebar-prev
bind pager \Cn sidebar-next
bind pager \Co sidebar-open

macro index \Cb '<enter-command>toggle sidebar_visible<enter><refresh>'
macro pager \Cb '<enter-command>toggle sidebar_visible<enter><redraw-screen>'

macro index <f2> '<enter-command>source ~/.mutt/account.doveston<enter><change-folder>!<enter>' 'Open doveston account'
macro index <f3> '<enter-command>source ~/.mutt/account.llama<enter><change-folder>!<enter>' 'Open llama account'

set editor="vim -c \"set spell spelllang=en\""
# bind index R imap-fetch-mail
# bind pager R imap-fetch-mail

source ~/.mutt/gpg.rc
#source ~/.mutt/solarized/mutt-colors-solarized-dark-256.muttrc
source ~/.mutt/solarized/mutt-colors-solarized-dark-16.muttrc

# Auto display html
set mailcap_path = ~/.mutt/mailcap
auto_view   text/html

# specify the uid to use when encrypting/signing
set pgp_sign_as=0xF6D1428E

# this set the number of seconds to keep in memory the passphrase used to
# encrypt/sign the more the less secure it will be
set pgp_timeout=3600

# automatically sign all outcoming messages
#set crypt_autosign
# sign only replies to signed messages
set crypt_replysign
# automatically encrypt outcoming messages
set crypt_autoencrypt=no
# encrypt only replies to signed messages
set crypt_replyencrypt=yes
# encrypt and sign replies to encrypted messages
set crypt_replysignencrypted=yes
# automatically verify the sign of a message when opened
set crypt_verify_sig=yes
