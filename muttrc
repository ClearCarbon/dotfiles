set mbox_type=maildir
set folder="~/.mail"

set alias_file       = "~/.mutt/alias"
set header_cache     = "~/.mutt/cache/headers"
set message_cachedir = "~/.mutt/cache/bodies"
set certificate_file = "~/.mutt/certificates"
set mailcap_path     = "~/.mutt/mailcap"
set tmpdir           = "~/.mutt/temp"
set signature        = "~/.mutt/sig"
set ssl_ca_certificates_file = "/etc/ssl/certs/ca-certificates.crt"

set mbox="+doveston.me.uk/INDOBX"
set spoolfile="+doveston.me.uk/INBOX"
set record="+doveston.me.uk/Sent"
set postponed="+doveston.me.uk/Drafts"

set wait_key = no        # shut up, mutt
set mbox_type = Maildir  # mailbox type
set timeout = 3          # idle time before scanning
set mail_check = 0       # minimum time between scans
#unset move               # gmail does that
set delete               # don't ask, just do
unset confirmappend      # don't ask, just do!
set quit                 # don't ask, just do!!
unset mark_old           # read/new is good enough for me
set beep_new             # bell on new mails
set pipe_decode          # strip headers and eval mimes when piping
set thorough_search      # strip headers and eval mimes before searching

# Mailboxes to show in the sidebar.
mailboxes +doveston.me.uk/INBOX \
          +doveston.me.uk/vim \
          +doveston.me.uk/clojure \
          +doveston.me.uk/python \
          +doveston.me.uk/mercurial \
          +doveston.me.uk/archive \
          +doveston.me.uk/sent \
          +doveston.me.uk/drafts \

# Vim like keybinds
# bind pager j next-line
# bind pager k previous-line

set signature="~/.mutt/signature"

set sort="reverse-date-received"

# color of folders with new mail
color sidebar_new yellow default

set sort=threads

# ctrl-n, ctrl-p to select next, prev folder
# ctrl-o to open selected folder
bind index \Cp sidebar-prev
bind index \Cn sidebar-next
bind index \Co sidebar-open
bind pager \Cp sidebar-prev
bind pager \Cn sidebar-next
bind pager \Co sidebar-open

macro index \Cb '<enter-command>toggle sidebar_visible<enter><refresh>'
macro pager \Cb '<enter-command>toggle sidebar_visible<enter><redraw-screen>'

#macro index <f2> '<enter-command>source ~/.mutt/account.doveston<enter><change-folder>!<enter>' 'Open doveston account'
#macro index <f3> '<enter-command>source ~/.mutt/account.llama<enter><change-folder>!<enter>' 'Open llama account'

set editor="vim -c \"set spell spelllang=en\""

source ~/.mutt/gpg.rc
#source ~/.mutt/solarized/mutt-colors-solarized-dark-256.muttrc
source ~/.mutt/solarized/mutt-colors-solarized-dark-16.muttrc

# Auto display html
auto_view text/html

# specify the uid to use when encrypting/signing
set pgp_sign_as=0xF6D1428E

# this set the number of seconds to keep in memory the passphrase used to
# encrypt/sign the more the less secure it will be
set pgp_timeout=3600

# automatically sign all outcoming messages
#set crypt_autosign
# sign only replies to signed messages
set crypt_replysign
# automatically encrypt outcoming messages
set crypt_autoencrypt=no
# encrypt only replies to signed messages
set crypt_replyencrypt=yes
# encrypt and sign replies to encrypted messages
set crypt_replysignencrypted=yes
# automatically verify the sign of a message when opened
set crypt_verify_sig=yes
